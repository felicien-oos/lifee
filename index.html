<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Live Futuriste</title>
  <style>
    body {
      background: linear-gradient(to right, #0f0c29, #302b63, #24243e);
      color: white;
      font-family: 'Arial', sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      margin: 0;
      position: relative;
    }
    .live-container {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 2rem;
    }
    .photo-frame {
      width: 200px;
      height: 200px;
      border: 4px solid #00ffff;
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      background-color: rgba(0,255,255,0.1);
      overflow: hidden;
      font-size: 1.2rem;
      text-align: center;
    }
    .bar-container { display: flex; flex-direction: column; align-items: center; gap:1rem; }
    .bars { display: flex; gap:5px; }
    .bar {
      width:10px; height:30px; background-color:#00ffcc;
      animation:bounce 1s infinite ease-in-out;
    }
    .bar:nth-child(2){ animation-delay:0.2s; }
    .bar:nth-child(3){ animation-delay:0.4s; }
    @keyframes bounce { 0%,100% { transform:scaleY(1); } 50% { transform:scaleY(2); } }
    .photo-import, .send-btn, .live-btn, .reset-btn {
      margin-top:1rem; background-color:#00ffcc; color:#000;
      padding:8px 16px; border:none; border-radius:6px; cursor:pointer;
    }
    .labels { display:flex; justify-content:space-between; width:460px; margin-top:1rem; font-size:1.1rem; font-weight:bold; }
    .message-status { margin-top:1rem; font-style:italic; color:#00ffcc; height:20px; }
    .name-inputs { display:flex; justify-content:space-between; width:460px; margin-top:1rem; }
    .name-inputs input { background:#fff; color:#000; padding:6px; border-radius:6px; border:none; width:45%; }
    .audio-player {
      margin-top:1rem; background:rgba(255,255,255,0.1); border-radius:10px;
      padding:1rem; width:90%; max-width:400px; text-align:center; display:none;
    }
    .audio-player iframe { width:100%; height:200px; border-radius:10px; }
    .reset-btn { position:absolute; bottom:20px; right:20px; }
    #comments {
      position:absolute; top:10px; right:10px; background:rgba(255,255,255,0.1);
      border-radius:10px; padding:10px; max-width:250px; font-size:0.9rem;
    }
    #liveVideo { margin-top:1rem; border:3px solid #00ffcc; border-radius:10px; display:none; }
    #youtubeLive {
      margin-top:10px; width:560px; height:315px;
      max-width:90%; border:3px solid #00ffcc; border-radius:10px;
      display:none;
    }
  </style>
</head>
<body>
  <div class="live-container">
    <div class="photo-frame" id="leftPhoto">F√©licien</div>
    <div class="bar-container">
      <div class="bars"><div class="bar"></div><div class="bar"></div><div class="bar"></div></div>
      <input type="file" accept="image/*" class="photo-import" onchange="loadPhoto(event)">
      <button class="send-btn" onclick="sendMessage()">Envoyer üòä</button>
      <button class="live-btn" onclick="goLive()">üé• Live</button>
      <div class="message-status" id="status"></div>
      <video id="liveVideo" width="320" height="240" autoplay muted></video>
      <iframe id="youtubeLive"
        src="https://www.youtube.com/embed/Tjh5gd29CIY"
        title="YouTube live video"
        frameborder="0"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
        allowfullscreen></iframe>
    </div>
    <div class="photo-frame" id="rightPhoto">Zo√©</div>
  </div>

  <div class="labels"><span id="leftLabel">F√©licien</span><span id="rightLabel">Zo√©</span></div>
  <div class="name-inputs">
    <input type="text" id="leftName" placeholder="Nom gauche" oninput="updateLabel('left')">
    <input type="text" id="rightName" placeholder="Nom droite" oninput="updateLabel('right')">
  </div>

  <div class="audio-player" id="videoContainer">
    <strong>Musique live Zo√© üéµ</strong>
    <iframe id="videoFrame" src="" frameborder="0"
      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
      allowfullscreen></iframe>
  </div>
  <button class="reset-btn" onclick="resetVideo()">R√©envoyer</button>

  <audio id="sendSound" src="https://www.soundjay.com/button/sounds/button-3.mp3"></audio>

  <div id="comments">
    <div><strong>zoe1</strong> üíñ Trop mignon !</div>
    <div><strong>zoe2</strong> üòç Vous √™tes adorables !</div>
    <div><strong>zoe3</strong> üíå En direct c‚Äôest magique !</div>
    <div><strong>zoe4</strong> üåü J‚Äôadore ce moment !</div>
  </div>

  <script>
    let photoTurn = 'left';
    let currentVideo = 1;

    function loadPhoto(event) {
      const file = event.target.files[0];
      if (!file) return;
      const reader = new FileReader();
      reader.onload = function(e) {
        const left = document.getElementById('leftPhoto');
        const right = document.getElementById('rightPhoto');
        const leftLabel = document.getElementById('leftLabel');
        const rightLabel = document.getElementById('rightLabel');
        const img = `<img src="${e.target.result}" alt="photo"
                    style="width:100%;height:100%;object-fit:cover;border-radius:6px;">`;
        if (photoTurn === 'left') {
          left.innerHTML = img;
          leftLabel.innerText = document.getElementById('leftName').value || 'F√©licien';
          photoTurn = 'right';
        } else {
          right.innerHTML = img;
          rightLabel.innerText = document.getElementById('rightName').value || 'Zo√©';
          photoTurn = 'left';
        }
      };
      reader.readAsDataURL(file);
    }

    function sendMessage() {
      const status = document.getElementById('status');
      const sound = document.getElementById('sendSound');
      const videoContainer = document.getElementById('videoContainer');
      const videoFrame = document.getElementById('videoFrame');
      sound.play();
      status.innerText = 'Envoi en cours...';
      setTimeout(() => {
        status.innerText = 'Message envoy√© !';
        videoFrame.src = currentVideo === 1
          ? 'https://www.youtube.com/embed/nL7BCFEgeyU'
          : 'https://www.youtube.com/embed/Zy2Xo75BUAU';
        videoContainer.style.display = 'block';
        setTimeout(() => { status.innerText = ''; }, 2000);
      }, 2000);
    }

    function updateLabel(side) {
      document.getElementById(side + 'Label').innerText =
        document.getElementById(side + 'Name').value;
    }

    function goLive() {
      const liveVideo = document.getElementById('liveVideo');
      const yt = document.getElementById('youtubeLive');
      const status = document.getElementById('status');

      liveVideo.style.display = 'block';
      yt.style.display = 'block';
      status.innerText = 'Live d√©marr√©...';

      navigator.mediaDevices.getUserMedia({ video: true, audio: false })
        .then(stream => { liveVideo.srcObject = stream; })
        .catch(() => { status.innerText = 'Acc√®s cam√©ra impossible'; });
    }

    function resetVideo() {
      document.getElementById('videoContainer').style.display = 'none';
      document.getElementById('videoFrame').src = '';
      currentVideo = currentVideo === 1 ? 2 : 1;
    }
  </script>
</body>
</html>
